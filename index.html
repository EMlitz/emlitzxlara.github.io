<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Para mi Reina ðŸŒ»</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background: radial-gradient(circle at center, #07111a 0%, #000 85%);
  font-family: "Segoe UI", sans-serif;
  color: #fff;
}

/* pantalla de entrada */
#entrada {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.96);
  display: flex; justify-content: center; align-items: center;
  font-size: 1.8rem;
  z-index: 40;
  cursor: pointer;
  color: #ffe97a;
  text-align: center;
  padding: 20px;
}

/* reproductor */
#musica {
  position: absolute; top: 20px; left: 20px;
  z-index: 30;
  background: rgba(255,255,255,0.08);
  backdrop-filter: blur(6px);
  border-radius: 16px;
  padding: 10px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.6);
  display: none;
}
#musica iframe {
  border-radius: 12px;
  width:300px; height:80px;
}

/* tÃ­tulo arriba del ramo */
#titulo {
  font-size: 2rem;
  font-weight: bold;
  color: #ffe97a;
  text-shadow: 0 0 12px rgba(255, 243, 150, 0.9);
  margin-bottom: 20px;
  z-index: 20;
}
#subtitulo {
  font-size: 1.2rem;
  color: #ffd86b;
  text-shadow: 0 0 8px rgba(255, 200, 120, 0.7);
  margin-bottom: 25px; /* espacio antes del ramo */
  z-index: 20;
  font-style: italic;
}

/* ramo con 3 filas */
#ramo {
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
  z-index: 10;
}
.fila {
  display: flex;
  gap: 10px;
  justify-content: center;
}
.girasol {
  font-size: 2.8rem;
  cursor: pointer;
  transition: transform 0.3s ease;
}
.girasol:hover {
  transform: scale(1.2) rotate(-5deg);
}

/* mensaje flotante */
.mensaje {
  position: absolute;
  color: #fff9c4;
  font-size: 1.2rem;
  padding: 6px 12px;
  border-radius: 10px;
  background: rgba(0,0,0,0.55);
  box-shadow: 0 0 14px rgba(255,235,59,0.35);
  opacity: 0;
  text-shadow: 0 0 10px rgba(255,243,150,0.6);
  animation: flotar 6s forwards;
  pointer-events: none;
  z-index: 9999; /* siempre encima de todo */
}
@keyframes flotar {
  0%   { opacity: 0; transform: translateY(0) scale(0.9); }
  15%  { opacity: 1; transform: translateY(-10px) scale(1); }
  70%  { opacity: 1; transform: translateY(-30px) scale(1.05); }
  100% { opacity: 0; transform: translateY(-50px) scale(0.9); }
}

/* estrellas */
.star {
  position: absolute;
  width: 3px; height: 3px;
  background: rgba(255,255,255,0.95);
  border-radius: 50%;
  filter: blur(0.3px);
  opacity: 0.8;
  z-index: 1;
  animation: twinkle 2s infinite alternate;
}
@keyframes twinkle {
  from { opacity: 0.2; transform: scale(0.9); }
  to   { opacity: 1; transform: scale(1.1); }
}
</style>
</head>
<body>
<div id="entrada">ðŸŒ» Mi Reina Toca la pantalla para entrar ðŸŒ»</div>
<div id="subtitulo">Toque uma flor e descubra uma pequena mensagem minha para vocÃª</div>

<div id="musica">
  <iframe src="https://open.spotify.com/embed/track/2mRwodUOATBk5spcUsEidB"
    allow="autoplay; clipboard-write; encrypted-media;" loading="lazy"></iframe>
</div>

<div id="titulo">Para Mi Reina ðŸ’›</div>
<div id="ramo"></div>

<script>
// mensajes romÃ¡nticos
const mensajes = [
  "Adorei conhecer vocÃª ",
  "Seu sorriso ilumina meus dias ",
  "VocÃª Ã© mais especial para mim do que imagina ",
  "Eu gosto de passar tempo com vocÃª ",
  "VocÃª Ã© minha luz nos meus dias escuros ",
  "Me haces muy feliz "
];

// estrellas
for (let i = 0; i < 60; i++) {
  const s = document.createElement('div');
  s.className = 'star';
  s.style.left = Math.random() * innerWidth + 'px';
  s.style.top = Math.random() * innerHeight + 'px';
  s.style.animationDuration = (1 + Math.random()*2.5).toFixed(2) + 's';
  document.body.appendChild(s);
}

// control de posiciones para mensajes
let posiciones = [];
const separacionMinima = 120;

function generarPosicionAleatoria() {
  let x, y, valido = false, intentos = 0;
  while (!valido && intentos < 50) {
    x = Math.random() * (window.innerWidth - 220);
    y = Math.random() * (window.innerHeight - 120);
    valido = true;
    for (const [px, py] of posiciones) {
      const dx = x - px, dy = y - py;
      if (Math.sqrt(dx*dx + dy*dy) < separacionMinima) {
        valido = false; break;
      }
    }
    intentos++;
  }
  posiciones.push([x, y]);
  return {x, y};
}

// crear girasol con evento
function crearGirasol(ramo, fila) {
  const g = document.createElement("div");
  g.className = "girasol";
  g.textContent = "ðŸŒ»";
  fila.appendChild(g);

  g.addEventListener("click", () => {
    const msg = document.createElement("div");
    msg.className = "mensaje";
    msg.textContent = mensajes[Math.floor(Math.random() * mensajes.length)];

    const {x, y} = generarPosicionAleatoria();
    msg.style.left = x + "px";
    msg.style.top  = y + "px";

    document.body.appendChild(msg);
    g.remove();

    setTimeout(() => {
      msg.remove();
      posiciones = posiciones.filter(([px, py]) => px !== x || py !== y);
    }, 6000);

    // reponer girasol despuÃ©s de 5s
    setTimeout(() => {
      crearGirasol(ramo, fila);
    }, 5000);
  });
}

// generar ramo en forma de pirÃ¡mide
function generarRamo() {
  const ramo = document.getElementById("ramo");

  const fila1 = document.createElement("div");
  fila1.className = "fila";
  for (let i = 0; i < 5; i++) crearGirasol(ramo, fila1);

  const fila2 = document.createElement("div");
  fila2.className = "fila";
  for (let i = 0; i < 4; i++) crearGirasol(ramo, fila2);

  const fila3 = document.createElement("div");
  fila3.className = "fila";
  for (let i = 0; i < 2; i++) crearGirasol(ramo, fila3);

  ramo.appendChild(fila1);
  ramo.appendChild(fila2);
  ramo.appendChild(fila3);
}

// entrada
const entrada = document.getElementById('entrada');
const musica = document.getElementById('musica');

entrada.addEventListener('click', () => {
  entrada.style.display = 'none';
  musica.style.display = 'block';
  generarRamo();
});
</script>
</body>
</html>
